<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Excluir Subcategoria Final</title>
  <script>
    const endpoint = 'http://localhost:8080/subcategoriafinal'; // ajuste conforme seu backend

    async function deleteSubcategoriafinal(id) {
      try {
        const response = await fetch(endpoint + "/" + id, {
          method: "DELETE",
          headers: { "Content-Type": "application/json" }
        });

        if (!response.ok) {
          throw new Error(response.status);
        }

        console.log("Subcategoria final excluída com sucesso.");
        alert("Subcategoria final excluída com sucesso!");
      } catch (error) {
        console.log("Erro na Requisição deleteSubcategoria: " + error);
        alert("Erro ao excluir a subcategoria final.");
      }
    }

    function handleDelete() {
      const id = document.getElementById("id").value;

      if (id) {
        const confirmacao = confirm(`Tem certeza que deseja excluir a subcategoria final com ID ${id}?`);
        if (confirmacao) {
          deleteSubcategoriafinal(id);
        }
      } else {
        alert("Informe o ID da subcategoria final.");
      }
    }
  </script>
</head>
<body>
  <h1>Excluir Subcategoria Final</h1>

  <label for="id">ID da Subcategoria Final:</label><br>
  <input type="text" id="id" placeholder="Ex: 5"><br><br>

  <button onclick="handleDelete()">Excluir</button>
</body>
</html>
